# ==================== PROFILE CONFIGURATION ====================
# REMOVE THESE LINES - they cause the error!
# spring.profiles.active=dev
# spring.profiles.include=dev

# ==================== DATABASE CONFIGURATION ====================
# Use MySQL for development (uncomment if you want to use MySQL)
spring.datasource.url=jdbc:mysql://localhost:3306/travel_planner_app_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Alternative: Use H2 in-memory database for faster development (uncomment to use)
# spring.datasource.url=jdbc:h2:mem:travelplanner;DB_CLOSE_DELAY=-1;MODE=MySQL
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2-console

# ==================== JPA/HIBERNATE CONFIGURATION ====================
# Always recreate schema in dev for testing
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.generate_statistics=true

# Log SQL parameters
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.orm.jdbc.bind=TRACE

# ==================== LOGGING CONFIGURATION ====================
# More verbose logging for development
logging.level.com.travelplanner=TRACE
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG

# Log to console with color
spring.output.ansi.enabled=ALWAYS

# ==================== RATE LIMITING CONFIGURATION ====================
# Disable rate limiting in development (high limits)
rate.limit.auth=1000
rate.limit.auth.window-minutes=1
rate.limit.admin=1000
rate.limit.admin.window-minutes=1
rate.limit.default=1000
rate.limit.default.window-minutes=1

# ==================== CORS CONFIGURATION ====================
# Allow all origins in development
app.cors.allowed-origins=*

# ==================== JWT CONFIGURATION ====================
# Use a fixed secret for development (easier debugging)
jwt.secret-key=${JWT_SECRET_KEY:}
jwt.expiration-ms=86400000
jwt.refresh-expiration-ms=604800000

# ==================== EXTERNAL API CONFIGURATION ====================
# Use mock responses in development (if available)
external.api.flight.provider=mock  # Change to 'mock' if you have a mock implementation
external.api.weather.provider=mock
external.api.maps.provider=mock

# ==================== CACHE CONFIGURATION ====================
# Disable caching in development for easier debugging
spring.cache.type=NONE

# ==================== FILE UPLOAD CONFIGURATION ====================
# Allow larger file uploads in development
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# ==================== DEVELOPMENT TOOLS ====================
# Enable Spring Boot DevTools for automatic restart
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Enable Actuator endpoints for monitoring
management.endpoints.web.exposure.include=health,info,metrics,env
management.endpoint.health.show-details=always